<div>tricks<div class="container">
    <h1>Tricks & Tips</h1>

    <div class="search-bar">
      <mat-form-field appearance="outline">
        <mat-label>Rechercher</mat-label>
        <input matInput [(ngModel)]="searchQuery" placeholder="Rechercher par titre, description ou tags">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>

    <div class="filters">
      <mat-chip-listbox>
        <mat-chip-option *ngFor="let category of getUniqueCategories()" (click)="filterByCategory(category)"
          [selected]="selectedCategory === category">
          {{ category }}
        </mat-chip-option>
      </mat-chip-listbox>
    </div>

    <div class="tips-grid">
      <mat-card *ngFor="let tip of getFilteredTips()">
        <mat-card-header>
          <mat-card-title>{{ tip.title }}</mat-card-title>
          <mat-card-subtitle>
            <span>{{ tip.date | date:'mediumDate' }}</span>
            <button mat-icon-button (click)="toggleFavorite(tip)"
              [matTooltip]="tip.isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris'">
              <mat-icon [ngClass]="{'favorite': tip.isFavorite}">{{ tip.isFavorite ? 'star' : 'star_border'
                }}</mat-icon>
            </button>
          </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <p>{{ tip.description }}</p>

          <div class="tags" *ngIf="tip.tags?.length">
            <div>
              <mat-chip *ngFor="let tag of tip.tags">
                {{ tag }}
              </mat-chip>
            </div>
          </div>

          <div class="code-example" *ngIf="tip.codeExample">
            <pre><code>{{ tip.codeExample }}</code></pre>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button mat-button (click)="copyCode(tip.codeExample ?? '')" matTooltip="Copier le code">
            <mat-icon>content_copy</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>

      <div class="loading-spinner" *ngIf="isLoading">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
      </div>
    </div>
  </div>ks!</div>